var ae=Object.defineProperty,ne=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var U=(e,t,a)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))se.call(t,a)&&U(e,a,t[a]);if(N)for(var a of N(t))re.call(t,a)&&U(e,a,t[a]);return e},p=(e,t)=>ne(e,oe(t));import{d as k,b as le,E as O,o as y,F as w,aq as g,K as C,f as S,a as c,e as de,g as z,n as ie,r as K,w as b,ar as ue,ao as ce,T as pe,l as F}from"./antdv.c04cfb4d.js";import{_ as $,d as ge,I as he,R as me,S as fe,a as _e,G as ve,F as ye,b as T,c as we,e as be}from"./index.333a8cbf.js";const $e=k({name:"raw-displayer",props:{title:{required:!0,type:String},value:{required:!0}},setup(e){const t=le(()=>JSON.stringify(e.value,null,2));return p(u({},O(e)),{valueString:t})}}),ke={class:"raw-displayer"};function Se(e,t,a,n,s,l){return y(),w("div",ke,[g("h3",null,C(e.title),1),g("pre",null,C(e.valueString),1)])}var We=$($e,[["render",Se],["__scopeId","data-v-6c0df88b"]]),V={mock:{},props:{},layouts:{},styles:{}},Ce=p(u({},V),{props:{label:"\u8F93\u5165\u6846",type:"input",value:"",size:"default",placeholder:"\u8BF7\u8F93\u5165",autoSize:!0,maxlength:null,rows:1},layouts:{formItem:{name:"input",label:"\u8F93\u5165\u6846",labelAlign:"right",labelCol:{},required:!1,extra:"",rules:[]}},mock:{defaultValue:""},styles:{width:"100%"}}),Ve=p(u({},V),{props:{label:"\u5355\u9009\u6846",value:"",size:"default",buttonStyle:"outline",optionType:"default"},layouts:{formItem:{name:"radio",label:"\u5355\u9009\u6846",labelAlign:"right",labelCol:{},required:!1,extra:"",rules:[]}},mock:{defaultValue:"",defaultList:[{value:1,label:"\u662F"},{value:0,label:"\u5426"}]},styles:{width:"100%"}}),Ae=p(u({},V),{props:{label:"\u9009\u62E9\u5668",value:"",allowClear:!1},layouts:{formItem:{name:"select",label:"\u9009\u62E9\u5668",labelAlign:"right",labelCol:{},required:!1,extra:"",rules:[]}},mock:{defaultValue:"",defaultList:[{value:1,label:"\u662F"},{value:0,label:"\u5426"}]},styles:{width:"100%"}}),De=p(u({},V),{props:{label:"\u5F00\u5173",checked:!1,size:"default",disabled:!1,loading:!1,autofocus:!1},layouts:{formItem:{name:"switch",label:"\u5F00\u5173",labelAlign:"right",labelCol:{},required:!1,extra:"",rules:[]}},mock:{}}),J={mock:{columns:[]},props:{},layouts:{},styles:{}},Ee=p(u({},J),{props:{gutter:16,align:"middle",justify:"start",wrap:!1},mock:{columns:[]}}),Ge=p(u({},J),{props:{name:"",model:{},layout:"horizontal",labelWrap:!1,labelCol:{},labelAlign:"right",hideRequiredMark:!1,colon:!0,rules:{},validateOnRuleChange:!1,validateMessages:{}},mock:{columns:[]}});const x=ge({id:"scheme",state:()=>({globalOptions:{layouts:{name:"grid",tag:"a-row",props:{gutter:16,align:"middle",justify:"start",wrap:!1,span:24}},options:{},widgetModules:{}},basicWidgets:[{index:0,name:"\u8F93\u5165\u6846",type:"basic-input",icon:"",options:Ce,layouts:{name:"general"},components:he},{index:1,name:"\u5355\u9009\u6846",type:"basic-radio",icon:"",options:Ve,layouts:{name:"general"},components:me},{index:2,name:"\u9009\u62E9\u5668",type:"basic-select",icon:"",options:Ae,layouts:{name:"general"},components:fe},{index:3,name:"\u5F00\u5173",type:"basic-switch",icon:"",options:De,layouts:{name:"general"},components:_e}],advancedWidgets:[],layoutWidgets:[{index:0,name:"\u6805\u683C\u5E03\u5C40",type:"layout-grid",icon:"",options:Ee,layouts:{name:"general"},components:ve},{index:0,name:"\u8868\u5355\u5E03\u5C40",type:"layout-form",icon:"",options:Ge,layouts:{name:"general"},components:ye}],generateWidgets:[]}),getters:{getGlobalOptions(){return this.globalOptions},getBasicWidgets(){return this.basicWidgets},getLayoutWidgets(){return this.layoutWidgets},getGenerateWidgets(){return this.generateWidgets}},actions:{handleGetGlobalOptions(){return this.getGlobalOptions},handleGetBasicWidgets(){return this.getBasicWidgets},handleGetLayoutWidgets(){return this.getLayoutWidgets},handleSetGenerateWidgets(e){this.generateWidgets=e},handleGetGenerateWidgets(){return this.getGenerateWidgets}}});const Ie=x(),Oe=k({setup(){let e=S([]);return Ie.$onAction(({name:t,store:a,args:n,after:s,onError:l})=>{s(o=>{e.value=a.generateWidgets}),l(o=>{})},!1),{generateWidgets:e}}}),Fe={class:"right-aside-container"};function xe(e,t,a,n,s,l){const o=We;return y(),w("div",Fe,[c(o,{value:e.generateWidgets},null,8,["value"])])}var Be=$(Oe,[["render",xe],["__scopeId","data-v-1cb3fbe0"]]),Y={exports:{}},A=1;function qe(){return A=(A*9301+49297)%233280,A/233280}function Le(e){A=e}var Me={nextValue:qe,seed:Le},B=Me,v="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",f,H,W;function q(){W=!1}function P(e){if(!e){f!==v&&(f=v,q());return}if(e!==f){if(e.length!==v.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(a,n,s){return n!==s.lastIndexOf(a)});if(t.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. These characters were not unique: "+t.join(", "));f=e,q()}}function je(e){return P(e),f}function Re(e){B.seed(e),H!==e&&(q(),H=e)}function Ne(){f||P(v);for(var e=f.split(""),t=[],a=B.nextValue(),n;e.length>0;)a=B.nextValue(),n=Math.floor(a*e.length),t.push(e.splice(n,1)[0]);return t.join("")}function Q(){return W||(W=Ne(),W)}function Ue(e){var t=Q();return t[e]}function ze(){return f||v}var L={get:ze,characters:je,seed:Re,lookup:Ue,shuffled:Q},M=typeof window=="object"&&(window.crypto||window.msCrypto),j;!M||!M.getRandomValues?j=function(e){for(var t=[],a=0;a<e;a++)t.push(Math.floor(Math.random()*256));return t}:j=function(e){return M.getRandomValues(new Uint8Array(e))};var Ke=j,Te=function(e,t,a){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,s=-~(1.6*n*a/t.length),l="";;)for(var o=e(s),r=s;r--;)if(l+=t[o[r]&n]||"",l.length===+a)return l},Je=L,Ye=Ke,He=Te;function Pe(e){for(var t=0,a,n="";!a;)n=n+He(Ye,Je.get(),1),a=e<Math.pow(16,t+1),t++;return n}var Qe=Pe,D=Qe,Xe=1567752802062,Ze=7,E,X;function et(e){var t="",a=Math.floor((Date.now()-Xe)*.001);return a===X?E++:(E=0,X=a),t=t+D(Ze),t=t+D(e),E>0&&(t=t+D(E)),t=t+D(a),t}var tt=et,at=L;function nt(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+at.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var ot=nt;(function(e){var t=L,a=tt,n=ot,s=0;function l(i){return t.seed(i),e.exports}function o(i){return s=i,e.exports}function r(i){return i!==void 0&&t.characters(i),t.shuffled()}function _(){return a(s)}e.exports=_,e.exports.generate=_,e.exports.seed=l,e.exports.worker=o,e.exports.characters=r,e.exports.isValid=n})(Y);var R=Y.exports;const G=x(),st=k({components:{draggable:T,General:we},setup(e){let t=de({worksheetData:{widgets:[],layouts:{},options:{}},recordWidget:[]}),a=S([]);a.value=G.handleGetBasicWidgets(),t.worksheetData.layouts=G.handleGetGlobalOptions().layouts,t.worksheetData.options=G.handleGetGlobalOptions().options,z(()=>t.worksheetData,()=>{G.handleSetGenerateWidgets(t.worksheetData.widgets)},{deep:!0});const n=()=>{const d=[];t.worksheetData.widgets.forEach(m=>{d.push(m),d.push({id:R.generate(),type:"insert",layouts:{},childs:[]})}),t.worksheetData.widgets=d},s=()=>{ie(()=>{t.worksheetData.widgets.forEach((d,m)=>{(d.name||!d.childs.length||d.type==="insert"&&!d.childs.length)&&t.worksheetData.widgets.splice(m,1)})})},l=d=>{const m=d.oldIndex;t.recordWidget=a.value[m],n()},o=d=>{const m=d.newIndex,I={id:R.generate(),type:"transfer",childs:[]},te=d.item._underlying_vm_;I.layouts={name:"general",props:{}},I.childs.push(u({},te)),t.worksheetData.widgets.splice(m,0,I),s()},r=()=>{s()},_=()=>{n()},i=()=>{s()},h=()=>{s()},ee=d=>[d.type==="layout-form"?"form-border":"border","pad-0-0","flex-ali-cen","h-46","m-r-2"];return p(u({},O(t)),{handleStart:l,handleAdd:o,handleEnd:r,handleChildStart:_,handleChildAdd:i,handleChildEnd:h,classOfAcol:ee})}}),rt={class:"mid-aside-container"};function lt(e,t,a,n,s,l){const o=be,r=ce,_=K("draggable");return y(),w("div",rt,[c(_,{class:"generate-widget",modelValue:e.worksheetData.widgets,"onUpdate:modelValue":t[0]||(t[0]=i=>e.worksheetData.widgets=i),group:{name:"lowcode"},"item-key":"id",onStart:e.handleStart,onAdd:e.handleAdd,onEnd:e.handleEnd},{item:b(({element:i})=>[c(_,{modelValue:i.childs,"onUpdate:modelValue":h=>i.childs=h,group:{name:"lowcode"},tag:e.worksheetData.layouts.tag,"item-key":"id",componentData:u({},e.worksheetData.layouts.props),onStart:e.handleChildStart,onAdd:e.handleChildAdd,onEnd:e.handleChildEnd},{item:b(({element:h})=>[c(r,{class:ue(e.classOfAcol(h)),span:e.worksheetData.layouts.props.span},{default:b(()=>[c(o,{is:h.components,worksheetData:e.worksheetData,child:h,globalOptions:e.worksheetData.options,componentOptions:h.options},null,8,["is","worksheetData","child","globalOptions","componentOptions"])]),_:2},1032,["class","span"])]),_:2},1032,["modelValue","onUpdate:modelValue","tag","componentData","onStart","onAdd","onEnd"])]),_:1},8,["modelValue","onStart","onAdd","onEnd"])])}var dt=$(st,[["render",lt],["__scopeId","data-v-b6476798"]]);const it=k({name:"vDraggable",components:{draggable:T},props:{list:{type:Array,default:[]},modelValue:{type:Array,default:[]},ghostClass:{type:String,default:"ghost"},group:{type:Object,default:{name:"lowcode"}},sort:{type:Boolean,default:!0},clone:{type:Function,default:()=>{}},itemKey:{type:String,default:"id"},tag:{type:String,default:"div"},componentData:{type:Object,default:{}}},emits:["start","add","end",""],setup(e,{emit:t}){let a=S([]);a.value=e.modelValue;const n=o=>{t("start",o)},s=o=>{t("add",o)},l=o=>{t("end",o)};return z(()=>a,o=>{t("update:modelValue",o)},{deep:!0}),p(u({},O(e)),{draggableList:a,handleStart:n,handleAdd:s,handleEnd:l})}}),ut={class:"v-draggable-container"},ct={class:"v-draggable-list-item"};function pt(e,t,a,n,s,l){const o=K("draggable");return y(),w("div",ut,[c(o,{class:"v-draggable-list",modelValue:e.draggableList,"onUpdate:modelValue":t[0]||(t[0]=r=>e.draggableList=r),ghostClass:e.ghostClass,group:e.group,sort:e.sort,clone:e.clone,itemKey:e.itemKey,tag:e.tag,componentData:e.componentData,onStart:e.handleStart,onAdd:e.handleAdd,onEnd:e.handleEnd},{item:b(({element:r})=>[g("div",ct,[pe(e.$slots,"item",{item:r})])]),_:3},8,["modelValue","ghostClass","group","sort","clone","itemKey","tag","componentData","onStart","onAdd","onEnd"])])}var gt=$(it,[["render",pt]]);const Z=x(),ht=k({setup(){let e=S([]),t=S([]);return e.value=Z.handleGetBasicWidgets(),t.value=Z.handleGetLayoutWidgets(),{basicWidgets:e,layoutWidgets:t,handleClone:n=>u({id:R.generate()},n)}}}),mt={class:"left-aside-container"},ft={class:"basic-widget-wrap"},_t=g("h3",null,"\u5E38\u7528\u63A7\u4EF6",-1),vt={class:"widget-item"},yt={class:"basic-widget-wrap"},wt=g("h3",null,"\u5E03\u5C40\u63A7\u4EF6",-1),bt={class:"widget-item"};function $t(e,t,a,n,s,l){const o=gt;return y(),w("div",mt,[F(" basic-\u63A7\u4EF6\u5217\u8868 "),g("div",ft,[_t,c(o,{modelValue:e.basicWidgets,"onUpdate:modelValue":t[0]||(t[0]=r=>e.basicWidgets=r),group:{name:"lowcode",pull:"clone"},sort:!1,clone:e.handleClone},{item:b(({item:r})=>[g("span",vt,C(r.name),1)]),_:1},8,["modelValue","clone"])]),F(" advanced-\u63A7\u4EF6\u5217\u8868 "),F(" \u5E03\u5C40-\u63A7\u4EF6\u5217\u8868 "),g("div",yt,[wt,c(o,{modelValue:e.layoutWidgets,"onUpdate:modelValue":t[1]||(t[1]=r=>e.layoutWidgets=r),group:{name:"lowcode",pull:"clone"},sort:!1,clone:e.handleClone},{item:b(({item:r})=>[g("span",bt,C(r.name),1)]),_:1},8,["modelValue","clone"])])])}var kt=$(ht,[["render",$t]]);const St={},Wt={class:"worksheet-container"};function Ct(e,t){const a=kt,n=dt,s=Be;return y(),w("div",Wt,[c(a),c(n),c(s)])}var Et=$(St,[["render",Ct],["__scopeId","data-v-068dc9c6"]]);export{Et as default};
