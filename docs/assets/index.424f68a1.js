var te=Object.defineProperty,ae=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var q=(e,t,a)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))oe.call(t,a)&&q(e,a,t[a]);if(U)for(var a of U(t))se.call(t,a)&&q(e,a,t[a]);return e},p=(e,t)=>ae(e,ne(t));import{d as k,b as re,E as O,o as y,F as w,ap as g,K as V,f as S,a as c,e as le,g as K,n as de,r as T,w as b,an as ie,T as ue,l as F}from"./antdv.ec085c70.js";import{_ as $,d as ce,I as pe,R as ge,S as he,a as me,G as fe,F as _e,b as z,c as ve,e as ye}from"./index.8c2cdb84.js";const we=k({name:"raw-displayer",props:{title:{required:!0,type:String},value:{required:!0}},setup(e){const t=re(()=>JSON.stringify(e.value,null,2));return p(u({},O(e)),{valueString:t})}}),be={class:"raw-displayer"};function $e(e,t,a,n,s,l){return y(),w("div",be,[g("h3",null,V(e.title),1),g("pre",null,V(e.valueString),1)])}var ke=$(we,[["render",$e],["__scopeId","data-v-6c0df88b"]]),D={mock:{},props:{},layouts:{},styles:{}},Se=p(u({},D),{props:{label:"\u8F93\u5165\u6846",type:"input",value:"",size:"default",placeholder:"\u8BF7\u8F93\u5165",autoSize:!0,maxlength:null,rows:1},mock:{defaultValue:""},styles:{width:"100%"}}),We=p(u({},D),{props:{label:"\u5355\u9009\u6846",value:"",size:"default",buttonStyle:"outline",optionType:"default"},mock:{defaultValue:"",defaultList:[{value:1,label:"\u662F"},{value:0,label:"\u5426"}]},styles:{width:"100%"}}),Ve=p(u({},D),{props:{label:"\u9009\u62E9\u5668",value:"",allowClear:!1},mock:{defaultValue:"",defaultList:[{value:1,label:"\u662F"},{value:0,label:"\u5426"}]},styles:{width:"100%"}}),De=p(u({},D),{props:{label:"\u5F00\u5173",checked:!1,size:"default",disabled:!1,loading:!1,autofocus:!1},mock:{}}),J={mock:{columns:[]},props:{},layouts:{},styles:{}},Ce=p(u({},J),{props:{gutter:16,align:"middle",justify:"start",wrap:!1},mock:{columns:[]}}),Ee=p(u({},J),{props:{name:"",model:{},layout:"horizontal",labelWrap:!1,labelCol:{},labelAlign:"right",hideRequiredMark:!1,colon:!0,rules:{},validateOnRuleChange:!1,validateMessages:{}},mock:{columns:[]}});const B=ce({id:"scheme",state:()=>({globalOptions:{layouts:{name:"grid",tag:"a-row",props:{gutter:16,align:"middle",justify:"start",wrap:!1,span:24}},options:{},widgetModules:{}},basicWidgets:[{index:0,name:"\u8F93\u5165\u6846",type:"basic-input",icon:"",options:Se,layouts:{name:"general"},components:pe},{index:1,name:"\u5355\u9009\u6846",type:"basic-radio",icon:"",options:We,layouts:{name:"general"},components:ge},{index:2,name:"\u9009\u62E9\u5668",type:"basic-select",icon:"",options:Ve,layouts:{name:"general"},components:he},{index:3,name:"\u5F00\u5173",type:"basic-switch",icon:"",options:De,layouts:{name:"general"},components:me}],advancedWidgets:[],layoutWidgets:[{index:0,name:"\u6805\u683C\u5E03\u5C40",type:"layout-grid",icon:"",options:Ce,layouts:{name:"general"},components:fe},{index:0,name:"\u8868\u5355\u5E03\u5C40",type:"layout-form",icon:"",options:Ee,layouts:{name:"general"},components:_e}],generateWidgets:[]}),getters:{getGlobalOptions(){return this.globalOptions},getBasicWidgets(){return this.basicWidgets},getLayoutWidgets(){return this.layoutWidgets},getGenerateWidgets(){return this.generateWidgets}},actions:{handleGetGlobalOptions(){return this.getGlobalOptions},handleGetBasicWidgets(){return this.getBasicWidgets},handleGetLayoutWidgets(){return this.getLayoutWidgets},handleSetGenerateWidgets(e){this.generateWidgets=e},handleGetGenerateWidgets(){return this.getGenerateWidgets}}});const Ae=B(),Ge=k({setup(){let e=S([]);return Ae.$onAction(({name:t,store:a,args:n,after:s,onError:l})=>{s(o=>{e.value=a.generateWidgets}),l(o=>{})},!1),{generateWidgets:e}}}),Ie={class:"right-aside-container"};function Oe(e,t,a,n,s,l){const o=ke;return y(),w("div",Ie,[c(o,{value:e.generateWidgets},null,8,["value"])])}var Fe=$(Ge,[["render",Oe],["__scopeId","data-v-1cb3fbe0"]]),Y={exports:{}},C=1;function Be(){return C=(C*9301+49297)%233280,C/233280}function xe(e){C=e}var Le={nextValue:Be,seed:xe},x=Le,v="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",h,H,W;function L(){W=!1}function P(e){if(!e){h!==v&&(h=v,L());return}if(e!==h){if(e.length!==v.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(a,n,s){return n!==s.lastIndexOf(a)});if(t.length)throw new Error("Custom alphabet for shortid must be "+v.length+" unique characters. These characters were not unique: "+t.join(", "));h=e,L()}}function Me(e){return P(e),h}function je(e){x.seed(e),H!==e&&(L(),H=e)}function Re(){h||P(v);for(var e=h.split(""),t=[],a=x.nextValue(),n;e.length>0;)a=x.nextValue(),n=Math.floor(a*e.length),t.push(e.splice(n,1)[0]);return t.join("")}function Q(){return W||(W=Re(),W)}function Ne(e){var t=Q();return t[e]}function Ue(){return h||v}var M={get:Ue,characters:Me,seed:je,lookup:Ne,shuffled:Q},j=typeof window=="object"&&(window.crypto||window.msCrypto),R;!j||!j.getRandomValues?R=function(e){for(var t=[],a=0;a<e;a++)t.push(Math.floor(Math.random()*256));return t}:R=function(e){return j.getRandomValues(new Uint8Array(e))};var qe=R,Ke=function(e,t,a){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,s=-~(1.6*n*a/t.length),l="";;)for(var o=e(s),r=s;r--;)if(l+=t[o[r]&n]||"",l.length===+a)return l},Te=M,ze=qe,Je=Ke;function Ye(e){for(var t=0,a,n="";!a;)n=n+Je(ze,Te.get(),1),a=e<Math.pow(16,t+1),t++;return n}var He=Ye,E=He,Pe=1567752802062,Qe=7,A,X;function Xe(e){var t="",a=Math.floor((Date.now()-Pe)*.001);return a===X?A++:(A=0,X=a),t=t+E(Qe),t=t+E(e),A>0&&(t=t+E(A)),t=t+E(a),t}var Ze=Xe,et=M;function tt(e){if(!e||typeof e!="string"||e.length<6)return!1;var t=new RegExp("[^"+et.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!t.test(e)}var at=tt;(function(e){var t=M,a=Ze,n=at,s=0;function l(d){return t.seed(d),e.exports}function o(d){return s=d,e.exports}function r(d){return d!==void 0&&t.characters(d),t.shuffled()}function m(){return a(s)}e.exports=m,e.exports.generate=m,e.exports.seed=l,e.exports.worker=o,e.exports.characters=r,e.exports.isValid=n})(Y);var N=Y.exports;const G=B(),nt=k({components:{draggable:z,General:ve},setup(e){let t=le({worksheetData:{widgets:[],layouts:{},options:{}},recordWidget:[]}),a=S([]);a.value=G.handleGetBasicWidgets(),t.worksheetData.layouts=G.handleGetGlobalOptions().layouts,t.worksheetData.options=G.handleGetGlobalOptions().options,K(()=>t.worksheetData,()=>{G.handleSetGenerateWidgets(t.worksheetData.widgets)},{deep:!0});const n=()=>{const i=[];t.worksheetData.widgets.forEach(_=>{i.push(_),i.push({id:N.generate(),type:"insert",layouts:{},childs:[]})}),t.worksheetData.widgets=i},s=()=>{de(()=>{t.worksheetData.widgets.forEach((i,_)=>{(i.name||!i.childs.length||i.type==="insert"&&!i.childs.length)&&t.worksheetData.widgets.splice(_,1)})})},l=i=>{const _=i.oldIndex;t.recordWidget=a.value[_],n()},o=i=>{const _=i.newIndex,I={id:N.generate(),type:"transfer",layouts:{},childs:[]},ee=i.item._underlying_vm_;I.layouts={name:"general",props:{}},I.childs.push(u({},ee)),t.worksheetData.widgets.splice(_,0,I),s()},r=()=>{s()},m=()=>{n()},d=()=>{s()},f=()=>{s()};return p(u({},O(t)),{handleStart:l,handleAdd:o,handleEnd:r,handleChildStart:m,handleChildAdd:d,handleChildEnd:f})}}),ot={class:"mid-aside-container"};function st(e,t,a,n,s,l){const o=ye,r=ie,m=T("draggable");return y(),w("div",ot,[c(m,{class:"generate-widget",modelValue:e.worksheetData.widgets,"onUpdate:modelValue":t[0]||(t[0]=d=>e.worksheetData.widgets=d),group:{name:"lowcode"},"item-key":"id",onStart:e.handleStart,onAdd:e.handleAdd,onEnd:e.handleEnd},{item:b(({element:d})=>[c(m,{modelValue:d.childs,"onUpdate:modelValue":f=>d.childs=f,group:{name:"lowcode"},tag:e.worksheetData.layouts.tag,"item-key":"id",componentData:u({},e.worksheetData.layouts.props),onStart:e.handleChildStart,onAdd:e.handleChildAdd,onEnd:e.handleChildEnd},{item:b(({element:f})=>[c(r,{class:"border bg pd flex h-46",span:e.worksheetData.layouts.props.span},{default:b(()=>[c(o,{is:f.components,worksheetData:e.worksheetData,child:f,globalOptions:e.worksheetData.options,componentOptions:f.options},null,8,["is","worksheetData","child","globalOptions","componentOptions"])]),_:2},1032,["span"])]),_:2},1032,["modelValue","onUpdate:modelValue","tag","componentData","onStart","onAdd","onEnd"])]),_:1},8,["modelValue","onStart","onAdd","onEnd"])])}var rt=$(nt,[["render",st],["__scopeId","data-v-b6476798"]]);const lt=k({name:"vDraggable",components:{draggable:z},props:{list:{type:Array,default:[]},modelValue:{type:Array,default:[]},ghostClass:{type:String,default:"ghost"},group:{type:Object,default:{name:"lowcode"}},sort:{type:Boolean,default:!0},clone:{type:Function,default:()=>{}},itemKey:{type:String,default:"id"},tag:{type:String,default:"div"},componentData:{type:Object,default:{}}},emits:["start","add","end",""],setup(e,{emit:t}){let a=S([]);a.value=e.modelValue;const n=o=>{t("start",o)},s=o=>{t("add",o)},l=o=>{t("end",o)};return K(()=>a,o=>{t("update:modelValue",o)},{deep:!0}),p(u({},O(e)),{draggableList:a,handleStart:n,handleAdd:s,handleEnd:l})}}),dt={class:"v-draggable-container"},it={class:"v-draggable-list-item"};function ut(e,t,a,n,s,l){const o=T("draggable");return y(),w("div",dt,[c(o,{class:"v-draggable-list",modelValue:e.draggableList,"onUpdate:modelValue":t[0]||(t[0]=r=>e.draggableList=r),ghostClass:e.ghostClass,group:e.group,sort:e.sort,clone:e.clone,itemKey:e.itemKey,tag:e.tag,componentData:e.componentData,onStart:e.handleStart,onAdd:e.handleAdd,onEnd:e.handleEnd},{item:b(({element:r})=>[g("div",it,[ue(e.$slots,"item",{item:r})])]),_:3},8,["modelValue","ghostClass","group","sort","clone","itemKey","tag","componentData","onStart","onAdd","onEnd"])])}var ct=$(lt,[["render",ut]]);const Z=B(),pt=k({setup(){let e=S([]),t=S([]);return e.value=Z.handleGetBasicWidgets(),t.value=Z.handleGetLayoutWidgets(),{basicWidgets:e,layoutWidgets:t,handleClone:n=>u({id:N.generate()},n)}}}),gt={class:"left-aside-container"},ht={class:"basic-widget-wrap"},mt=g("h3",null,"\u5E38\u7528\u63A7\u4EF6",-1),ft={class:"widget-item"},_t={class:"basic-widget-wrap"},vt=g("h3",null,"\u5E03\u5C40\u63A7\u4EF6",-1),yt={class:"widget-item"};function wt(e,t,a,n,s,l){const o=ct;return y(),w("div",gt,[F(" basic-\u63A7\u4EF6\u5217\u8868 "),g("div",ht,[mt,c(o,{modelValue:e.basicWidgets,"onUpdate:modelValue":t[0]||(t[0]=r=>e.basicWidgets=r),group:{name:"lowcode",pull:"clone"},sort:!1,clone:e.handleClone},{item:b(({item:r})=>[g("span",ft,V(r.name),1)]),_:1},8,["modelValue","clone"])]),F(" advanced-\u63A7\u4EF6\u5217\u8868 "),F(" \u5E03\u5C40-\u63A7\u4EF6\u5217\u8868 "),g("div",_t,[vt,c(o,{modelValue:e.layoutWidgets,"onUpdate:modelValue":t[1]||(t[1]=r=>e.layoutWidgets=r),group:{name:"lowcode",pull:"clone"},sort:!1,clone:e.handleClone},{item:b(({item:r})=>[g("span",yt,V(r.name),1)]),_:1},8,["modelValue","clone"])])])}var bt=$(pt,[["render",wt]]);const $t={},kt={class:"worksheet-container"};function St(e,t){const a=bt,n=rt,s=Fe;return y(),w("div",kt,[c(a),c(n),c(s)])}var Ct=$($t,[["render",St],["__scopeId","data-v-068dc9c6"]]);export{Ct as default};
